/* =========================================
   1. VARIABLES Y RESET
   ========================================= */
:root {
    --naranja-fuerte: #F08159;
    --naranja-suave: #F5A162;
    --durazno: #FBCDAB;
    --crema: #FEF6F2;
    --azul-palido: #D5E4E6;
    --azul-medio: #205D91;
    --azul-oscuro: #0D1F30;
    --blanco: #ffffff;
}

* { margin: 0; padding: 0; box-sizing: border-box; }
html { scroll-behavior: smooth; }
body {
    font-family: 'Open Sans', sans-serif;
    background-color: var(--crema);
    color: var(--azul-oscuro);
    line-height: 1.6;
    overflow-x: hidden;
}
h1, h2, h3, h4 { font-family: 'Montserrat', sans-serif; font-weight: 700; }

/* =========================================
   2. NAVEGACIÓN (NAVBAR) - ESCRITORIO
   ========================================= */
.navbar {
    background-color: var(--azul-oscuro);
    padding: 0 5%;
    height: 80px;
    display: flex;
    justify-content: space-between;
    align-items: center;
    position: sticky;
    top: 0;
    z-index: 1000;
    box-shadow: 0 4px 15px rgba(0,0,0,0.2);
}

.nav-logo-link svg { height: 50px; width: auto; transition: transform 0.3s; }
.nav-logo-link:hover svg { transform: scale(1.05); }

/* Lista de enlaces (Escritorio) */
.nav-links {
    list-style: none; 
    display: flex; 
    gap: 30px; 
    align-items: center; 
    height: 100%;
    margin: 0;
}

.nav-links li { position: relative; height: 100%; display: flex; align-items: center; }
.nav-links a { text-decoration: none; color: var(--azul-palido); font-weight: 600; font-size: 0.95rem; transition: 0.3s; }
.nav-links a:hover, .nav-links a.active { color: var(--naranja-fuerte); }

/* Dropdown */
.dropdown:hover .dropdown-content { display: block; animation: fadeIn 0.3s; }
.dropdown-content {
    display: none; position: absolute; top: 80px; left: 50%; transform: translateX(-50%);
    background: var(--blanco); min-width: 180px;
    box-shadow: 0 10px 20px rgba(0,0,0,0.15); border-radius: 0 0 10px 10px;
    padding: 10px 0; z-index: 1001; list-style: none;
}
.dropdown-content li { display: block; height: auto; }
.dropdown-content a { color: var(--azul-oscuro); padding: 10px 20px; display: block; border: none; }
.dropdown-content a:hover { background: var(--crema); color: var(--naranja-fuerte); }
.fa-chevron-down { font-size: 0.7rem; margin-left: 5px; }

/* Botón Test */
.btn-nav {
    background: var(--naranja-fuerte); color: var(--blanco) !important;
    padding: 10px 25px !important; border-radius: 25px;
}
.btn-nav:hover { background: var(--naranja-suave); transform: translateY(-2px); }

/* HAMBURGUESA (Oculta por defecto) */
.menu-toggle { display: none; cursor: pointer; }
.bar { width: 25px; height: 3px; background: var(--blanco); margin: 5px auto; transition: 0.3s; }

/* =========================================
   3. HERO PARALLAX
   ========================================= */
.parallax-bg {
    background-image: url('/resources/ImagenAnsiedad.png'); 
    background-attachment: fixed; background-position: center; background-repeat: no-repeat; background-size: cover;
    height: 60vh; display: flex; align-items: center; justify-content: center; text-align: center; position: relative;
}
.overlay-hero { position: absolute; top:0; left:0; width:100%; height:100%; background: rgba(13, 31, 48, 0.6); }
.hero-content { position: relative; z-index: 2; color: var(--crema); padding: 0 20px; }
.hero-content h1 { font-size: 3.5rem; margin-bottom: 20px; text-shadow: 2px 2px 10px rgba(0,0,0,0.5); }
.highlight { color: var(--naranja-fuerte); }
.scroll-down { color: var(--durazno); text-decoration: none; font-weight: 700; animation: bounce 2s infinite; display: inline-block; margin-top: 20px;}
@keyframes bounce { 0%,20%,50%,80%,100%{transform:translateY(0)} 40%{transform:translateY(-10px)} 60%{transform:translateY(-5px)} }

/* =========================================
   4. LAYOUT GRID Y SIDEBAR
   ========================================= */
.main-layout {
    display: grid;
    grid-template-columns: 250px 1fr;
    gap: 40px;
    padding: 4rem 5% !important;
    max-width: 1400px;
    margin: 0 auto;
}

.sidebar-nav {
    position: sticky; top: 100px; height: fit-content;
    background: var(--blanco); padding: 20px; border-radius: 10px;
    box-shadow: 0 5px 15px rgba(0,0,0,0.05); border-left: 4px solid var(--naranja-fuerte);
}
.sidebar-nav h3 { color: var(--azul-medio); margin-bottom: 15px; font-size: 1.2rem; }
.sidebar-nav ul { list-style: none; }
.sidebar-nav li { margin-bottom: 10px; }
.sidebar-link {
    text-decoration: none; color: #555; font-weight: 600; font-size: 0.95rem; display: block; padding: 5px 0; transition: 0.2s;
}
.sidebar-link:hover { color: var(--naranja-fuerte); transform: translateX(5px); }

.content-area section { margin-bottom: 4rem; scroll-margin-top: 100px; }
.section-divider { border: 0; height: 1px; background: #e0e0e0; margin: 3rem 0; }

/* =========================================
   5. CONTENIDO
   ========================================= */
/* Caja de destaque dentro del texto */
.highlight-box {
    background-color: rgba(240, 129, 89, 0.1); /* Naranja muy suave */
    border-left: 4px solid var(--naranja-fuerte);
    padding: 20px;
    margin: 20px 0;
    border-radius: 0 10px 10px 0;
}

.highlight-box strong {
    display: block;
    font-size: 1.1rem;
    color: var(--azul-oscuro);
    margin-bottom: 10px;
}

.highlight-box ul {
    list-style: disc;
    padding-left: 20px;
    margin-top: 10px;
}

.highlight-box li {
    margin-bottom: 5px;
    color: #555;
}
.header-split { display: flex; gap: 40px; align-items: flex-start; margin-bottom: 2rem; }
.header-text { flex: 2; }
.intro-text { font-size: 1.1rem; text-align: justify; }
.header-cta {
    flex: 1; background: var(--azul-palido); padding: 20px;
    border-radius: 10px; text-align: center; border: 1px solid var(--durazno);
}
.header-cta h3 { color: var(--azul-oscuro); margin-bottom: 15px; font-size: 1.1rem; }
.cta-buttons { display: flex; flex-direction: column; gap: 10px; }
.cta-pulse, .cta-pulse-alert {
    padding: 10px; border-radius: 5px; text-decoration: none; font-weight: 700; display: block;
}
.cta-pulse { background: var(--naranja-fuerte); color: white; animation: pulse-orange 2s infinite; }
.cta-pulse-alert { background: var(--azul-medio); color: white; animation: pulse-blue 2s infinite; }

@keyframes pulse-orange { 0% { box-shadow: 0 0 0 0 rgba(240, 129, 89, 0.7); } 70% { box-shadow: 0 0 0 10px rgba(240, 129, 89, 0); } 100% { box-shadow: 0 0 0 0 rgba(240, 129, 89, 0); } }
@keyframes pulse-blue { 0% { box-shadow: 0 0 0 0 rgba(32, 93, 145, 0.7); } 70% { box-shadow: 0 0 0 10px rgba(32, 93, 145, 0); } 100% { box-shadow: 0 0 0 0 rgba(32, 93, 145, 0); } }

.video-container-full h3 { text-align: center; margin-bottom: 15px; color: var(--azul-medio); }
.video-wrapper {
    position: relative; padding-bottom: 56.25%; height: 0; overflow: hidden;
    border-radius: 15px; box-shadow: 0 10px 20px rgba(0,0,0,0.1); background: #000;
}
.video-wrapper iframe { position: absolute; top: 0; left: 0; width: 100%; height: 100%; }
.mt-4 { margin-top: 2rem; }

.symptom-list li, .info-list li {
    background: var(--blanco); padding: 15px; margin-bottom: 10px; border-radius: 8px;
    border-left: 4px solid var(--azul-medio); box-shadow: 0 2px 5px rgba(0,0,0,0.05); list-style: none;
}
.recommendation-box {
    background: #fff3cd; border: 1px solid #ffeeba; color: #856404; padding: 20px;
    border-radius: 10px; display: flex; align-items: center; gap: 15px; margin-top: 2rem;
}
.recommendation-box a { color: #856404; font-weight: 700; text-decoration: underline; }
.final-rec { background: var(--azul-palido); border-color: var(--azul-medio); color: var(--azul-oscuro); }
.final-rec a { color: var(--naranja-fuerte); }

.science-section-integrated { background: var(--azul-oscuro); padding: 30px; border-radius: 15px; color: white; text-align: center;}
.science-section-integrated h2 { color: var(--durazno); }
.science-grid-mini { display: flex; justify-content: space-around; flex-wrap: wrap; gap: 10px; margin-bottom: 20px; }
.brain-part-mini { background: rgba(255,255,255,0.1); padding: 10px 20px; border-radius: 20px; font-size: 0.9rem; }
.sketchfab-embed-wrapper { height: 450px; background: black; border-radius: 10px; overflow: hidden; }
.sketchfab-embed-wrapper iframe { width: 100%; height: 100%; }
.sketchfab-credits-small { font-size: 0.8rem; margin-top: 5px; opacity: 0.7; }
.sketchfab-credits-small a { color: var(--durazno); }

.accordion { border-radius: 10px; overflow: hidden; box-shadow: 0 5px 15px rgba(0,0,0,0.05); }
.accordion-item { border-bottom: 1px solid #eee; background: var(--blanco); }
.accordion-header {
    width: 100%; padding: 15px 20px; background: white; border: none; text-align: left;
    font-size: 1rem; font-weight: 700; color: var(--azul-medio); cursor: pointer;
    display: flex; justify-content: space-between;
}
.accordion-header:hover { background: var(--crema); }
.accordion-content { max-height: 0; overflow: hidden; transition: 0.3s; padding: 0 20px; background: #fafafa; }
.accordion-content p { padding: 15px 0; margin: 0; }

.references-section { background: #f0f0f0; padding: 20px; border-radius: 10px; font-size: 0.85rem; color: #666; margin-top: 50px; }
footer { background: #08121d; color: #777; text-align: center; padding: 3rem 0; margin-top: 0; }

/* Animaciones */
.slide-in-left { opacity: 0; transform: translateX(-50px); transition: 1s; }
.slide-in-right { opacity: 0; transform: translateX(50px); transition: 1s; }
.fade-in { opacity: 0; transform: translateY(30px); transition: 1s; }
.visible { opacity: 1; transform: translate(0); }

/* =========================================
   6. RESPONSIVE DESIGN (CORRECCIÓN ESTÉTICA MENÚ)
   ========================================= */
@media (max-width: 968px) {
    
    /* 1. Ajustes del Layout General */
    .main-layout { 
        grid-template-columns: 1fr; padding: 2rem 5% !important; 
    }
    .sidebar-nav { display: none; }
    .header-split { flex-direction: column; }
    .header-cta { width: 100%; margin-top: 20px; }
    .navbar { padding: 0 20px; }

    /* 2. BOTÓN HAMBURGUESA */
    .menu-toggle { 
        display: block !important; cursor: pointer; z-index: 3001; position: relative;
    }
    .bar { 
        display: block; width: 30px; height: 3px; margin: 6px auto; 
        background-color: var(--blanco) !important; transition: all 0.4s ease; border-radius: 2px;
    }
    /* Animación a "X" */
    .menu-toggle.toggle .bar:nth-child(1) { transform: translateY(9px) rotate(45deg); background-color: var(--naranja-fuerte) !important; }
    .menu-toggle.toggle .bar:nth-child(2) { opacity: 0; }
    .menu-toggle.toggle .bar:nth-child(3) { transform: translateY(-9px) rotate(-45deg); background-color: var(--naranja-fuerte) !important; }

    /* 3. CONTENEDOR DEL MENÚ PANTALLA COMPLETA */
    .nav-links {
        position: fixed; top: 0; left: 0; width: 100%; height: 100vh;
        background-color: rgba(13, 31, 48, 0.98); /* Fondo oscuro sólido */
        backdrop-filter: blur(10px);
        
        /* FLEXBOX PARA CENTRADO PERFECTO */
        display: flex;
        flex-direction: column;
        justify-content: center; /* Centrado Vertical */
        align-items: center;     /* Centrado Horizontal */
        gap: 1.5rem;             /* Espacio vertical MENOR entre elementos */
        
        opacity: 0; visibility: hidden; transform: scale(0.98); transition: all 0.4s ease-in-out; z-index: 3000;
    }
    .nav-links.nav-active { opacity: 1; visibility: visible; transform: scale(1); }

    /* 4. ESTILO DE LOS ENLACES (CENTRADOS Y ANIMADOS - REFORZADO) */
    .nav-links li {
        width: auto;
        margin: 0; 
        padding: 5px; /* Un poco de área extra para el dedo/mouse */
    }

    .nav-links a {
        font-size: 1.6rem; 
        font-weight: 700;
        color: var(--crema);
        text-decoration: none;
        display: inline-block; /* Fundamental para que la línea mida lo mismo que el texto */
        padding: 5px 0; /* Espacio arriba y abajo del texto */
        position: relative; /* Necesario para posicionar la línea */
        transition: color 0.3s ease;
    }

    /* --- LA LÍNEA NARANJA (Invisible por defecto) --- */
    .nav-links a::after {
        content: '';
        position: absolute;
        width: 0%; /* Empieza sin ancho */
        height: 3px; /* Grosor */
        
        /* AJUSTE CLAVE: La bajamos un poco más */
        bottom: -2px; 
        
        left: 50%;
        transform: translateX(-50%); /* Centrada */
        background-color: var(--naranja-fuerte);
        transition: width 0.3s ease-in-out;
        z-index: 1; /* Asegurar que esté por encima del fondo */
    }

    /* --- ACTIVACIÓN (Al pasar el mouse o tocar) --- */
    /* 1. Cuando pasas el mouse sobre el enlace 'a' */
    .nav-links a:hover::after,
    /* 2. Cuando el enlace tiene la clase 'active' (como el de 'Video') */
    .nav-links a.active::after,
    /* 3. REFUERZO: Cuando pasas el mouse sobre el contenedor del dropdown */
    .dropdown:hover > a::after {
        width: 100% !important; /* ¡FORZAMOS QUE CREZCA! */
    }
    
    /* Cambio de color del texto al hacer hover */
    .nav-links a:hover,
    .dropdown:hover > a {
        color: var(--naranja-fuerte);
    }

    /* 5. BOTÓN TEST (Excepción: No lleva línea animada) */
    .btn-nav {
        margin-top: 25px !important; /* Separarlo un poco más del resto */
        padding: 15px 45px !important;
        background-color: var(--naranja-fuerte) !important;
        color: white !important;
        border-radius: 30px !important;
    }
    .btn-nav::after { display: none; } /* Quitamos la línea animada al botón */
    .btn-nav:hover { transform: scale(1.05); background-color: var(--naranja-suave) !important; color: white !important;}

    /* 6. DROPDOWN EN MÓVIL (Centrado) */
    .dropdown-content {
        position: static; box-shadow: none;
        background: rgba(255, 255, 255, 0.05); border-radius: 10px;
        display: none; width: 100%; margin-top: 10px; text-align: center;
    }
    .dropdown.active .dropdown-content { display: block; animation: fadeIn 0.5s; }
    .dropdown-content li a {
        font-size: 1.1rem; /* Submenú un poco más pequeño */
        padding: 15px 20px;
        color: var(--azul-palido);
        border-bottom: 1px solid rgba(255,255,255,0.05);
    }
    .dropdown-content a::after { bottom: 5px; height: 2px; } /* Línea más sutil en dropdown */
}